<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Integration and Simplification of the QIIME2 Pipeline</title>
<meta name="author" content="(Ha Le, Liu Lab)"/>
<style type="text/css">
.underline { text-decoration: underline; }
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.8.0/css/reveal.css"/>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.8.0/css/theme/solarized.css" id="theme"/>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.8.0/lib/css/monokai.css"/>
<!-- If the query includes 'print-pdf', include the PDF print sheet -->
<script>
    if( window.location.search.match( /print-pdf/gi ) ) {
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.8.0/css/print/pdf.css';
        document.getElementsByTagName( 'head' )[0].appendChild( link );
    }
</script>
</head>
<body>
<div class="reveal">
<div class="slides">
<section id="sec-title-slide" data-background="./assets/ksu-template-bg.png" data-background-size="cover" data-background-position="bottom"><h1 class="title">Integration and Simplification of the QIIME2 Pipeline</h1><h2 class="author">Ha Le, Liu Lab</h2><h2 class="date">11/04/2019</h2><p class="date">Created: 2019-11-01 Fri 17:10</p>
</section>
<p>

<style>
h1.title { font-size: 1.6em; }
h2.author, h2.email, h2.date { font-size: 1em; }
figcaption { font-size: 0.75em; }
.reveal h3 { font-size: 1.2em; }
.reveal .slides { text-align: initial; }
p.date, span.figure-number, .section-number-3 { display: none; }
ol.org-ol { display: inline; list-style-type: none }
.reveal section img { border:none; box-shadow:none }
h3#question > img { margin:0; height:48px }
.reveal * { text-transform:none !important; }
</style>

</p>

<section>
<section id="slide-build-with-nextflow" data-background="./assets/ksu-template-bg.png" data-background-size="cover" data-background-position="bottom">
<h2 id="build-with-nextflow"><span class="section-number-2">1</span> Motivation</h2>
</section>
<section id="slide-qiime2" data-background="./assets/ksu-template-bg.png" data-background-size="cover" data-background-position="bottom">
<h3 id="qiime2"><span class="section-number-3">1.1</span> QIIME2</h3>

<figure>
<img src="./assets/qiime2-workflow.png" alt="qiime2-workflow.png" style="height:450px">

<figcaption><span class="figure-number">Figure 1: </span>Conceptual overview of the QIIME2 pipeline (qiime2.org)</figcaption>
</figure>

<aside class="notes">
<ul>
<li>QIIME2 provides all the tools necessary for each of the steps</li>
<li>But, running individual commands is cumbersome</li>

</ul>

</aside>

</section>
<section id="slide-problems" data-background="./assets/ksu-template-bg.png" data-background-size="cover" data-background-position="bottom">
<h3 id="problems"><span class="section-number-3">1.2</span> Problems</h3>
<div class="org-src-container">

<pre><code class="bash" >qiime diversity core-metrics-phylogenetic \
  --i-phylogeny rooted-tree.qza \
  --i-table table.qza \
  --p-sampling-depth 1103 \
  --m-metadata-file sample-metadata.tsv \
  --output-dir core-metrics-results
</code></pre>
</div>

<p>
User has to:
</p>
<ul>
<li>Execute an individual command for each step</li>
<li>Manually manage input/output between steps</li>

</ul>

</section>
<section id="slide-nextflow-pipeline" data-background="./assets/ksu-template-bg.png" data-background-size="cover" data-background-position="bottom">
<h3 id="nextflow-pipeline"><span class="section-number-3">1.3</span> Solution: Nextflow Pipeline</h3>
<ul>
<li>Publicly avaiable at <a href="https://github.com/Liulab/qiime2-nf">https://github.com/Liulab/qiime2-nf</a></li>
<li>Jobs are started as soon as their input is available</li>
<li>Scalable</li>
<li>Only stop when manual input is required</li>
<li>Optional email notification on pipeline termination</li>

</ul>

</section>
</section>
<section>
<section id="slide-results" data-background="./assets/ksu-template-bg.png" data-background-size="cover" data-background-position="bottom">
<h2 id="results"><span class="section-number-2">2</span> Results</h2>
</section>
<section id="slide-taxa" data-background="./assets/ksu-template-bg.png" data-background-size="cover" data-background-position="bottom">
<h3 id="taxa"><span class="section-number-3">2.1</span> Taxa barplots in each sample</h3>

<figure>
<img src="./assets/taxa.png" alt="taxa.png">

</figure>

</section>
<section id="slide-pcoa" data-background="./assets/ksu-template-bg.png" data-background-size="cover" data-background-position="bottom">
<h3 id="pcoa"><span class="section-number-3">2.2</span> Emperor plot of the PCoA matrix based on Bray-Curtis dissimilarity</h3>
<video data-autoplay loop src="./assets/bray-curtis-emperor.mp4"></video>

<aside class="notes">
<p>
Visualization how similar/dissimilar the samples are from each other
Only few examples, raw data and other qiime2-generated figures available
</p>

</aside>

</section>
</section>
<section>
<section id="slide-nextflow" data-background="./assets/ksu-template-bg.png" data-background-size="cover" data-background-position="bottom">
<h2 id="nextflow"><span class="section-number-2">3</span> Nextflow</h2>
</section>
<section id="slide-why-nextflow" data-background="./assets/ksu-template-bg.png" data-background-size="cover" data-background-position="bottom">
<h3 id="why-nextflow"><span class="section-number-3">3.1</span> <img src="./assets/nf-logo.png" alt="nf-logo.png"></h3>
<ul>
<li>Sharing a pipeline is easier than ever</li>
<li>Emphasis on reproducible analysis (supports <code>conda</code>, <code>docker</code>, etc)</li>
<li>Effortless integration into High-Performance Computing (HPC) environment (supports Slurm, SGE, etc)</li>

</ul>

<aside class="notes">
<ul>
<li>Designed by Bioinformaticians</li>
<li>Job scheduler support is main advantage over competitors</li>

</ul>

</aside>

</section>
<section id="slide-using-nextflow" data-background="./assets/ksu-template-bg.png" data-background-size="cover" data-background-position="bottom">
<h3 id="using-nextflow"><span class="section-number-3">3.2</span> Using Nextflow</h3>
<ol class="org-ol">
<li><a id="orgd67dc28"></a>Shared pipelines<br>
<ul>
<li><a href="https://nf-co.re/pipelines">https://nf-co.re/pipelines</a></li>
<li><a href="https://github.com/nextflow-io/awesome-nextflow">https://github.com/nextflow-io/awesome-nextflow</a></li>

</ul>
</li>

<li><a id="orga5382d9"></a>Official sources<br>
<ul>
<li><a href="https://github.com/nextflow-io/nextflow">https://github.com/nextflow-io/nextflow</a></li>
<li><a href="http://docs.nextflow.io">http://docs.nextflow.io</a></li>

</ul>

<aside class="notes">
<ul>
<li>See if there's already one</li>
<li>If not, or for the curious, check official documents and source code</li>

</ul>

</aside>
</li>
</ol>

</section>
</section>
<section>
<section id="slide-conclusion" data-background="./assets/ksu-template-bg.png" data-background-size="cover" data-background-position="bottom">
<h2 id="conclusion"><span class="section-number-2">4</span> Conclusion</h2>
</section>
<section id="slide-acknowledgement" data-background="./assets/ksu-template-bg.png" data-background-size="cover" data-background-position="bottom">
<h3 id="acknowledgement"><span class="section-number-3">4.1</span> Acknowledgement</h3>

<figure>
<img src="./assets/nsf-logo.png" alt="nsf-logo.png">

</figure>

<ul>
<li>Dr. Ari Jumpponen - KSU</li>
<li>Dr. Sanzhen Liu - KSU</li>
<li>Dr. Cheng He - KSU</li>
<li>Jake Carlson - REU student</li>

</ul>

</section>
<section id="slide-question" data-background="./assets/ksu-template-bg.png" data-background-size="cover" data-background-position="bottom">
<h3 id="question"><span class="section-number-3">4.2</span> <img src="./assets/gh.png" alt="gh.png"> Liulab/qiime2-nf</h3>
<ul>
<li>More detailed documents</li>
<li>Anyone is welcome to contribute</li>
<li>Contribution can be question, suggestion, bug report, etc.</li>
<li>Questions?</li>

</ul>
</section>
</section>
</div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.8.0/js/reveal.js"></script>

<script>
// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({
hash: true, transitionSpeed: 'fast',
multiplex: {
    secret: '', // null if client
    id: '', // id, obtained from socket.io server
    url: '' // Location of socket.io server
},

// Optional libraries used to extend on reveal.js
dependencies: [
 { src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.8.0/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }]
});
</script>
</body>
</html>
